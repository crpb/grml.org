<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 9.0.0rc2" />
<title>grml-debootstrap(8)</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overridden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>grml-debootstrap(8)</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_name">Name</h2>
<div class="sectionbody">
<div class="paragraph"><p>grml-debootstrap - wrapper around debootstrap for installing plain Debian</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis">Synopsis</h2>
<div class="sectionbody">
<div class="paragraph"><p>grml-debootstrap [ <em>options</em> ]</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/screenshot.png" alt="Screenshot" />
</span></p></div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>grml-debootstrap is a wrapper suite around debootstrap (and cdebootstrap and mmdebstrap if you
want) for installing a plain Debian system very fast and easy.</p></div>
<div class="paragraph"><p>All you have to do is adjust a few variables in the configuration file
/etc/debootstrap/config or specify some command line options and invoke
grml-debootstrap. If invoked without any configuration modifications or command
line options a dialog based front end will be available to control some basic
configuration options.</p></div>
<div class="paragraph"><p>A plain and base Debian system will be installed on the given device, directory
or virtual image file then. Customization of this process is possible as well.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/caution.png" alt="Caution" />
</td>
<td class="content">The Grml team does not take responsibility for loss of any data!</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options_and_environment_variables">Options and environment variables</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>--arch</strong> <em>architecture</em>
</dt>
<dd>
<p>
    Set target architecture you want to install. Defaults to the architecture
    you are currently running. If you&#8217;re running an amd64 kernel and want to
    deploy an i386 system use this option. Note: deploying amd64 from an i386
    kernel does <strong>not</strong> work. Example: "<em>--arch i386</em>"
</p>
</dd>
<dt class="hdlist1">
<strong>--backportrepos</strong>
</dt>
<dd>
<p>
    Enable Debian&#8217;s Backports repository via the
    /etc/apt/sources.list.d/backports.list configuration file. This provides the
    option to install Debian packages from Debian&#8217;s backports repository.
</p>
</dd>
<dt class="hdlist1">
<strong>--bootappend</strong> <em>appendline-for-the-kernel</em>
</dt>
<dd>
<p>
    Specify appendline for the kernel.
    E.g. "<em>pci=nomsi</em>"
</p>
</dd>
<dt class="hdlist1">
<strong>-c</strong>, <strong>--config</strong> <em>file</em>
</dt>
<dd>
<p>
    Use specified configuration file, defaults to /etc/debootstrap/config.
</p>
</dd>
<dt class="hdlist1">
<strong>--chroot-scripts</strong> <em>directory</em>
</dt>
<dd>
<p>
    Execute chroot scripts from specified directory. This allows customisation
    of the chroot setup, the executable script(s) present in the given directory
    are executed at the end of the chroot procedure.
    Default directory: /etc/debootstrap/chroot-scripts/
</p>
</dd>
<dt class="hdlist1">
<strong>--contrib</strong>
</dt>
<dd>
<p>
    Enable the <em>contrib</em> repository in COMPONENTS. By default only
    the <em>main</em> repository is enabled.
</p>
</dd>
<dt class="hdlist1">
<strong>-d</strong>, <strong>--confdir</strong> <em>path</em>
</dt>
<dd>
<p>
    Place of configuration files for debootstrap, defaults to /etc/debootstrap.
</p>
</dd>
<dt class="hdlist1">
<strong>--debconf</strong> <em>file</em>
</dt>
<dd>
<p>
    Use specified file for preseeding Debian packages instead of using
    the default &lt;confdir&gt;/debconf-selections.
</p>
</dd>
<dt class="hdlist1">
<strong>--debopt</strong> <em>params</em>
</dt>
<dd>
<p>
    Extra parameters passed to the debootstrap command.
</p>
</dd>
<dt class="hdlist1">
<strong>--debug</strong>
</dt>
<dd>
<p>
   Execute in very verbose way. Useful for debugging possible problems
   with grml-debootstrap or identify what&#8217;s actually executed.
</p>
</dd>
<dt class="hdlist1">
<strong>--defaultinterfaces</strong>
</dt>
<dd>
<p>
   Install a default /etc/network/interfaces file (enabling DHCP for all local
   Ethernet, WLAN and WWAN interfaces using predictable network interface names
   and using eth0 as traditional interface name for backward compatibility)
   instead of taking over config from host system.
   This option is automatically enabled when using --vm or --vmfile.
</p>
</dd>
<dt class="hdlist1">
<strong>--efi</strong> <em>device</em>
</dt>
<dd>
<p>
    Partition where EFI boot manager should be installed to. If the
    specified device doesn&#8217;t use a FAT filesystem yet grml-debootstrap
    automatically creates the filesystem. If a FAT filesystem is already
    present the filesystem creation is skipped. Please ensure that it&#8217;s
    a valid FAT32 filesystem and the partition has the <em>boot</em> and <em>esp</em>
    flags enabled. This option requires EFI support on the running system
    and the option is NOT supported for Virtual Machine deployments.
</p>
</dd>
<dt class="hdlist1">
<strong>--filesystem</strong> <em>filesystem</em>
</dt>
<dd>
<p>
    Filesystem that should be created when installing to a partition.
    If unset defaults to ext4. Valid values are all filesystems that
    can be created through mkfs.<em>filesystem</em>.
</p>
</dd>
<dt class="hdlist1">
<strong>--force</strong>
</dt>
<dd>
<p>
    Skip user acknowledgement and do not prompt for user input.
</p>
</dd>
<dt class="hdlist1">
<strong>--grmlrepos</strong>
</dt>
<dd>
<p>
    Enable Grml.org&#8217;s Debian repository (<a href="http://deb.grml.org/">http://deb.grml.org/</a>) via the
    /etc/apt/sources.list.d/grml.list configuration file. This provides the
    option to install Debian packages from Grml&#8217;s repository.
</p>
</dd>
<dt class="hdlist1">
<strong>--grub</strong> <em>device</em>
</dt>
<dd>
<p>
    Device where grub should be installed to. Note that only the MBR (master
    boot record) can be used (/dev/sda, /dev/sdb,&#8230;). Partitions (like
    /dev/sda1, /dev/sdb2,&#8230;) are NOT supported because grub2 doesn&#8217;t support
    installation into the PBR (partition boot record) anymore.  Usage example:
    <em>--grub /dev/sda</em>.  Note: just do not set this option to avoid installation
    of grub.
</p>
</dd>
<dt class="hdlist1">
<strong>--help</strong>, <strong>-h</strong>
</dt>
<dd>
<p>
    Show summary of options and exit.
</p>
</dd>
<dt class="hdlist1">
<strong>--hostname</strong> <em>hostname</em>
</dt>
<dd>
<p>
    Use specified hostname instead of the default (being $HOSTNAME or if unset <em>grml</em>).
</p>
</dd>
<dt class="hdlist1">
<strong>-i</strong>, <strong>--iso</strong> <em>/mntpoint</em>
</dt>
<dd>
<p>
    Specify mount point where you have a Debian ISO mounted loopback.
    Using this option instead of the mirror option gives you the possibility
    to install the base-system without network access. Make sure you
    mounted the according Debian-ISO to the given <em>/mntpoint</em>. See section
    <em>Usage examples</em> for a demonstration.
</p>
</dd>
<dt class="hdlist1">
<strong>--keep_src_list</strong>
</dt>
<dd>
<p>
     Do not overwrite user provided /etc/apt/sources.list.
</p>
</dd>
<dt class="hdlist1">
<strong>-m</strong>, <strong>--mirror</strong> <em>URL</em>
</dt>
<dd>
<p>
    Specify mirror which should be used for apt-get/aptitude.
    Corresponding with configuration variable MIRROR.
</p>
</dd>
<dt class="hdlist1">
<strong>--nodebootstrap</strong>
</dt>
<dd>
<p>
    Skip debootstrap, only do configuration to the target.
</p>
</dd>
<dt class="hdlist1">
<strong>--nointerfaces</strong>
</dt>
<dd>
<p>
    Do not copy /etc/network/interfaces from host system to the target.
</p>
</dd>
<dt class="hdlist1">
<strong>--nokernel</strong>
</dt>
<dd>
<p>
    Skip installation of default kernel images. This option might be
    interesting for you if you want a Debian system which doesn&#8217;t
    need to provide regular boot, e.g. a system which provides
    ISOs for booting via GRUB using grml-rescueboot.
</p>
</dd>
<dt class="hdlist1">
<strong>--non-free</strong>
</dt>
<dd>
<p>
    Enable the <em>non-free</em> repository in COMPONENTS. By default only
    the <em>main</em> repository is enabled.
</p>
</dd>
<dt class="hdlist1">
<strong>--nopackages</strong>
</dt>
<dd>
<p>
    Skip installation of packages defined in /etc/debootstrap/packages.
</p>
</dd>
<dt class="hdlist1">
<strong>--nopassword</strong>
</dt>
<dd>
<p>
    Do not prompt for the root password. Note: Use the <em>--password</em> option if
    you want to set the root password during an automatic installation but don&#8217;t
    want to use the interactive dialog.
</p>
</dd>
<dt class="hdlist1">
<strong>-p</strong>, <strong>--mntpoint</strong> <em>/mntpoint</em>
</dt>
<dd>
<p>
    Specify mount point that should be used for mounting the target system.
    Corresponding with configuration variable MNTPOINT.
    Note: this option has no effect if option -t is given and represents a
    directory.
</p>
</dd>
<dt class="hdlist1">
<strong>--packages</strong> <em>file</em>
</dt>
<dd>
<p>
    Use specified file as list for packages that should be installed instead of
    the default package list file &lt;confdir&gt;/packages.
</p>
</dd>
<dt class="hdlist1">
<strong>--password</strong> <em>password</em>
</dt>
<dd>
<p>
    Use specified password as password for user root. Use with caution, as your
    command line might be visible in the process list and the shell history.
    It&#8217;s meant for automatic installation only.
</p>
</dd>
<dt class="hdlist1">
<strong>--post-scripts</strong> <em>directory</em>
</dt>
<dd>
<p>
    Execute scripts from specified directory after executing the chroot script.
    This allows customisation of the system after the chroot has been set up.
    The environment variable $MNTPOINT is available inside the scripts for
    direct access of the chroot.
    Default directory: /etc/debootstrap/post-scripts/
</p>
</dd>
<dt class="hdlist1">
<strong>--pre-scripts</strong> <em>directory</em>
</dt>
<dd>
<p>
    Execute scripts from specified directory before executing the chroot
    script. This allows customisation of the system before the chroot has
    been set up.  The environment variable $MNTPOINT is available inside the
    scripts for direct access of the chroot.
    Default directory: /etc/debootstrap/pre-scripts/
</p>
</dd>
<dt class="hdlist1">
<strong>-r</strong>, <strong>--release</strong> <em>releasename</em>
</dt>
<dd>
<p>
    Specify release of new Debian system. Supported releases names: lenny,
    squeeze, wheezy, jessie, stretch, buster, bullseye and sid. Corresponding with configuration
    variable RELEASE. Default release: buster
</p>
</dd>
<dt class="hdlist1">
<strong>--remove-configs</strong>
</dt>
<dd>
<p>
    Delete grml-debootstrap configuration files (/etc/debootstrap/*) from installed
    system. Useful for reproducible builds or if you don&#8217;t want to leak information.
</p>
</dd>
<dt class="hdlist1">
<strong>--sshcopyauth</strong>
</dt>
<dd>
<p>
    Use locally available <em>$HOME/.ssh/authorized_keys</em> to authorise root login on the target system.
    This installs <em>$HOME/.ssh/authorized_keys</em> as <em>/root/.ssh/authorized_keys</em> on
    the target system. If a different file than <em>$HOME/.ssh/authorized_keys</em> should
    be used, the environment variable <em>AUTHORIZED_KEYS_SOURCE</em> can be used.
</p>
</dd>
<dt class="hdlist1">
<strong>--sshcopyid</strong>
</dt>
<dd>
<p>
    Use locally available public keys to authorise root login on the target system.
    Similar to ssh-copy-id(1) (without the -i option) it checks if <code>ssh-add -L</code>
    provides any output, and if so those keys are appended to
    <em>/root/.ssh/authorized_keys</em> (creating the file and directory (with mode 0700)).
</p>
</dd>
<dt class="hdlist1">
<strong>-t</strong>, <strong>--target</strong> <em>target</em>
</dt>
<dd>
<p>
    Target partition (/dev/&#8230;) or directory (anything else without /dev at the
    beginning).
</p>
</dd>
<dt class="hdlist1">
<strong>-v</strong>, <strong>--verbose</strong>
</dt>
<dd>
<p>
    Increase verbosity.
</p>
</dd>
<dt class="hdlist1">
<strong>--vm</strong>
</dt>
<dd>
<p>
    Set up a Virtual Machine on an existing block device, which will be
    partitioned.
    This allows deployment of a Virtual Machine. The options needs to be
    combined with the --target option.
    This option automatically enables the --defaultinterfaces option.
    Usage example: --vm --target /dev/mapper/your-vm-disk
</p>
</dd>
<dt class="hdlist1">
<strong>--vmfile</strong>
</dt>
<dd>
<p>
    Set up a Virtual Machine using a regular file instead of installing to a
    partition/block device or directory. This allows deployment of a Virtual
    Machine. The options needs to be combined with the --target option
    (<em>qemu-img create -f raw &#8230;</em> is executed on the specified target).
    This option automatically enables the --defaultinterfaces option.
    Usage example: --vmfile --target /mnt/sda1/qemu.img
</p>
</dd>
<dt class="hdlist1">
<strong>--vmsize</strong> <em>size</em>
</dt>
<dd>
<p>
   Use specified size for size of Virtual Machine disk file. If not specified it
   defaults to 2G (being 2GB). Syntax as supported by qemu-img (see manpage
   qemu-img(1) for details.
   Usage example: --vmsize 3G
</p>
</dd>
<dt class="hdlist1">
<strong>-V</strong>, <strong>--version</strong>
</dt>
<dd>
<p>
    Show version of program and exit.
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/warning.png" alt="Warning" />
</td>
<td class="content">the command line parsing of grml-debootstrap usually does not validate
the provided arguments for the command line options. Please be careful and check
docs and /etc/debootstrap/config for further information.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_networking">Networking</h2>
<div class="sectionbody">
<div class="paragraph"><p>By default (that is, if none of the options <strong>--nointerfaces</strong>,
<strong>--defaultinterfaces</strong>, <strong>--vmfile</strong> or <strong>--vm</strong> are given) /etc/network/interfaces
will be copied from the host to the target system.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_usage_examples">Usage examples</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre><code>grml-debootstrap --target /dev/sda1 --grub /dev/sda</code></pre>
</div></div>
<div class="paragraph"><p>Install default Debian release (buster) on /dev/sda1 and install bootmanager GRUB in MBR (master boot record) of /dev/sda.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>grml-debootstrap --release stretch --target /dev/sda1 --grub /dev/sda --hostname debian01 --password changeme</code></pre>
</div></div>
<div class="paragraph"><p>Install Debian release stretch on /dev/sda1 and install bootmanager GRUB in MBR (master boot record) of /dev/sda.
Set hostname to <em>debian01</em> and password for user root to <em>changeme</em>.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>grml-debootstrap --target /dev/sda6 --grub /dev/sda --release sid</code></pre>
</div></div>
<div class="paragraph"><p>Install Debian unstable/sid on /dev/sda6 and install bootmanager GRUB in MBR (master boot record) of /dev/sda.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>DEBOOTSTRAP=mmdebstrap grml-debootstrap --target /dev/sda1 --grub /dev/sda</code></pre>
</div></div>
<div class="paragraph"><p>Install default Debian release (buster) on /dev/sda1 and install bootmanager GRUB in MBR (master boot record) of /dev/sda.
Use mmdebstrap instead of default debootstrap tool for bootstrapping.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>grml-debootstrap --target /dev/mapper/vg0-rootfs --grub /dev/sda</code></pre>
</div></div>
<div class="paragraph"><p>Install default Debian release (buster) on LVM device /dev/mapper/vg0-rootfs and install bootmanager GRUB in MBR (master boot record) of /dev/sda.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>grml-debootstrap --efi /dev/sda1 --target /dev/sda2 --grub /dev/sda</code></pre>
</div></div>
<div class="paragraph"><p>Install default Debian release (buster) on /dev/sda2 and install bootmanager GRUB in MBR (master boot record) of /dev/sda.
Use /dev/sda1 as EFI partition (requires EFI support in booted system).</p></div>
<div class="literalblock">
<div class="content">
<pre><code>mount /dev/sda1 /data/chroot
grml-debootstrap --target /data/chroot</code></pre>
</div></div>
<div class="paragraph"><p>Install default Debian release (buster) in directory /data/chroot (without any bootloader).</p></div>
<div class="literalblock">
<div class="content">
<pre><code>grml-debootstrap --target /dev/sda3 --grub /dev/sda  --mirror ftp://ftp.tugraz.at/mirror/debian</code></pre>
</div></div>
<div class="paragraph"><p>Install default Debian release (buster) on /dev/sda3 and install bootmanager GRUB in MBR (master boot record) of /dev/sda.
Use specified mirror instead of the default (<a href="http://deb.debian.org/debian">http://deb.debian.org/debian</a>) one.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>mount /dev/sda1 /mnt/sda1
grml-debootstrap --vmfile --vmsize 3G --target /mnt/sda1/qemu.img</code></pre>
</div></div>
<div class="paragraph"><p>Install default debian release (buster) in a Virtual Machine file with 3GB disk size (including GRUB as bootmanager in MBR of the virtual disk file):</p></div>
<div class="literalblock">
<div class="content">
<pre><code>mount -o loop ./debian-CD-1.iso /media/cdrom
grml-debootstrap --target /dev/sda1 --grub /dev/sda --iso /media/cdrom</code></pre>
</div></div>
<div class="paragraph"><p>Install Debian on /dev/sda1 using the loopback mounted Debian-ISO for the base-system and install bootmanager GRUB in MBR (master boot record) of /dev/sda.
Please notice, that the chroot system requires network access for all packages which are not part of the ISO.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_files">Files</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre><code>/etc/debootstrap/config</code></pre>
</div></div>
<div class="paragraph"><p>Main configuration file. Adjust it according to your needs if you want to
execute grml-debootstrap in the non-interactive mode without any special command
line arguments.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>/etc/debootstrap/chroot-script</code></pre>
</div></div>
<div class="paragraph"><p>The script executed within the new Debian system as soon as the main system
has been installed via [c]debootstrap.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>/etc/debootstrap/locale.gen</code></pre>
</div></div>
<div class="paragraph"><p>Defines the default locales used for generating locales via locale-gen.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>/etc/debootstrap/packages</code></pre>
</div></div>
<div class="paragraph"><p>Defines the software packages which should be installed in the new
Debian system by default.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>/etc/debootstrap/extrapackages/</code></pre>
</div></div>
<div class="paragraph"><p>Debian Packages dropped in this directory will be installed into the new Debian
system by default (Control variable: EXTRAPACKAGES)</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_customization">Customization</h2>
<div class="sectionbody">
<div class="paragraph"><p>You can control execution of grml-debootstrap via adjusting
/etc/debootstrap/config for some main stuff or via setting some selected
variables via command line.  The packages which should be installed in the new
Debian system can be defined via the file /etc/debootstrap/packages.  If you
want to put existing files to the new Debian system you can place them into the
(by default non-existing) directories boot, etc, share, usr and var in
/etc/debootstrap/. Every existing directory will be copied to the new Debian
system then. If you want to install additional packages that are not available
via the Grml or Debian mirror drop them into /etc/debootstrap/extrapackages and
make sure that EXTRAPACKAGES is set to "yes".</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_automatic_installation">Automatic installation</h2>
<div class="sectionbody">
<div class="paragraph"><p>If environment variable AUTOINSTALL is set grml-debootstrap can be executed in a
full automatic mode. While this mode isn&#8217;t really useful for interactive
execution (just configure /etc/debootstrap/configure or specify the relevant
variables on the command line instead) it is meant for use via boot option
debian2hd on the Grml live system. The boot option debian2hd (more precise: the
kernelname at the bootprompt) supports the following boot options (they
correspond with the command line options mentioned above):</p></div>
<div class="literalblock">
<div class="content">
<pre><code>target=...</code></pre>
</div></div>
<div class="paragraph"><p>The target partition/directory of the new Debian system. Usage example:
target=/dev/sda1</p></div>
<div class="literalblock">
<div class="content">
<pre><code>grub=...</code></pre>
</div></div>
<div class="paragraph"><p>Where do you want to install grub to? Usage example: grub=/dev/sda</p></div>
<div class="literalblock">
<div class="content">
<pre><code>release=...</code></pre>
</div></div>
<div class="paragraph"><p>Specify release of new Debian system. Defaults to Debian buster. Supported
releases: lenny, squeeze, wheezy, jessie, stretch, buster, bullseye and sid. Usage example: release=stretch</p></div>
<div class="literalblock">
<div class="content">
<pre><code>mirror=...</code></pre>
</div></div>
<div class="paragraph"><p>Specify mirror which should be used for apt-get/aptitude instead
of the default one (<a href="http://deb.debian.org/debian">http://deb.debian.org/debian</a>).
Usage example: mirror=ftp://ftp.tugraz.at/mirror/debian</p></div>
<div class="literalblock">
<div class="content">
<pre><code>password=...</code></pre>
</div></div>
<div class="paragraph"><p>Set password of user root without prompting for it but set it to the given
argument. Usage example: password=AiTh5ahn</p></div>
<div class="sect2">
<h3 id="_usage_example_for_automatic_installation">Usage example for automatic installation</h3>
<div class="literalblock">
<div class="content">
<pre><code>debian2hd target=/dev/sda1 grub=/dev/sda mirror=ftp://ftp.tugraz.at/mirror/debian password=foobar</code></pre>
</div></div>
<div class="paragraph"><p>You have to enter this command line at the bootprompt of the Grml live system.
Please make sure that /dev/sda1 is the partition where you really want to
install your new Debian system.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Automatic installation within booting process is done in grml-autoconfig via
setting environment variable AUTOINSTALL and creation of
/usr/bin/grml-debootstrap_noninteractive with the available and relevant
boot options for grml-debootstrap.</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_supported_releases">Supported Releases</h2>
<div class="sectionbody">
<div class="tableblock">
<table rules="all"
width="40%"
frame="hsides"
cellspacing="0" cellpadding="4">
<caption class="title">Table 1. Current status</caption>
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Release  </th>
<th align="left" valign="top">Status</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">lenny</p></td>
<td align="left" valign="top"><p class="table">works[1]</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">squeeze</p></td>
<td align="left" valign="top"><p class="table">works[1]</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">wheezy</p></td>
<td align="left" valign="top"><p class="table">works[1]</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">jessie</p></td>
<td align="left" valign="top"><p class="table">works</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">stretch</p></td>
<td align="left" valign="top"><p class="table">works</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">buster</p></td>
<td align="left" valign="top"><p class="table">works</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">bullseye</p></td>
<td align="left" valign="top"><p class="table">works[2]</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">sid</p></td>
<td align="left" valign="top"><p class="table">works[2]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">lenny/squeeze/wheezy release</div>
<div class="paragraph"><p>[1] Please notice that releases like lenny, squeeze and wheezy are unsupported releases within Debian nowadays.
grml-debootstrap can handle the releases but you really should not use them
anymore unless you really know what you are doing.
Choose the current Debian stable version instead.
See <a href="https://wiki.debian.org/DebianReleases">https://wiki.debian.org/DebianReleases</a> for the list of supported releases.</p></div>
<div class="paragraph"><p>Notice that you need to specify a mirror providing the lenny and squeeze releases, the
default (<a href="http://deb.debian.org/debian">http://deb.debian.org/debian</a>) doesn&#8217;t provide it any longer nowadays.
Set the mirror to e.g. <a href="http://archive.debian.org/debian/">http://archive.debian.org/debian/</a> if you don&#8217;t have
your own lenny/squeeze mirror.</p></div>
<div class="paragraph"><p>Older releases might also fail to install when running on top of recent kernel versions,
throwing segfaults during debootstrap. This can be identified by the following messages inside kernel log (check with <em>dmesg</em>):</p></div>
<div class="literalblock">
<div class="content">
<pre><code>dpkg[...] vsyscall attempted with vsyscall=none ip:[...]
dpkg[...]: segfault at [...]</code></pre>
</div></div>
<div class="paragraph"><p>To work around this issue boot your system with the kernel boot option <em>vsyscall=emulate</em>.</p></div>
<div class="paragraph"><p>You also need to specify a filesystem that&#8217;s supported by lenny, e.g.
<em>--filesystem ext3</em> since grml-debootstrap&#8217;s current default (ext4) isn&#8217;t
supported by lenny.</p></div>
<div class="paragraph"><p>Also when debootstrapping lenny on a live system with a kernel version
like "3.16-1-grml-amd64" lenny&#8217;s libc will fail to install with:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>[...]
/var/lib/dpkg/tmp.ci/preinst: line 265: [: 3.16-1-grml-amd64: integery expression expected
/var/lib/dpkg/tmp.ci/preinst: line 231: 3.16-1-grml-amd64: syntax error: invalid arithemtic operator (error token is ".16-1-grml-amd64")
dpkg: error processing /var/cache/apt/archives/libc6_2.7-18lenny7_amd64.deb (--install):
[....]</code></pre>
</div></div>
<div class="paragraph"><p>To workaround this either debootstrap from a system with an according
kernel version or use the "fake uname" workaround (just google for it).</p></div>
<div class="paragraph"><p>When installing lenny to a new mdraid, grml-debootstrap will use md metadata
format version 0.90. This limits the device to a maximum size of 2TB, but has
the advantage of grub-legacy actually being able to boot from it.</p></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="title">unstable and testing releases</div>
<div class="paragraph"><p>[2] Please notice that Debian/testing and Debian/unstable (sid) might
not be always installable due to their nature. What <em>might</em> work instead is
deploying a stable release and upgrade it after installation finished.</p></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bugs">Bugs</h2>
<div class="sectionbody">
<div class="paragraph"><p>Please report bugs towards <a href="https://github.com/grml/grml-debootstrap/issues">https://github.com/grml/grml-debootstrap/issues</a></p></div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">See also</h2>
<div class="sectionbody">
<div class="paragraph"><p>debootstrap (8), cdebootstrap (1), mmdebstrap(1).</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_author">Author</h2>
<div class="sectionbody">
<div class="paragraph"><p>Michael Prokop &lt;<a href="mailto:mika@grml.org">mika@grml.org</a>&gt;</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2020-06-03 14:44:11 UTC
</div>
</div>
</body>
</html>
